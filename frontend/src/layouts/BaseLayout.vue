<template>
    <a-layout class="layout">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è - ÂÖ®ÂÆΩ -->
        <a-layout-header v-show="pageSettings.showHeader" class="layout-header">
            <div class="header-left">
                <!-- LogoÂå∫Âüü -->
                <div class="logo" @click="handleLogoClick">
                    <icon-book/>
                    <span class="logo-text">MagicBook</span>
                </div>


            </div>

            <div class="header-right">
                <a-input
                    v-model="searchText"
                    class="header-search"
                    placeholder="ÊêúÁ¥¢ÂäüËÉΩ..."
                    @focus="showSearchDialog"
                    size="small"
                >
                    <template #prefix>
                        <icon-search style="color: #c9cdd4;" />
                    </template>
                </a-input>

                <a-tooltip content="ÂÖ®Â±è">
                    <a-button class="header-btn" type="text" @click="toggleFullscreen">
                        <icon-fullscreen-exit v-if="isFullscreen"/>
                        <icon-fullscreen v-else/>
                    </a-button>
                </a-tooltip>

                <!-- ËÆæÁΩÆÊåâÈíÆ -->
                <a-tooltip content="È°µÈù¢ËÆæÁΩÆ">
                    <a-button type="text" class="header-btn" @click="showSettings">
                        <icon-settings />
                    </a-button>
                </a-tooltip>
                
                <a-dropdown @select="handleUserMenuSelect">
                    <div class="user-dropdown">
                        <a-avatar :size="32" :style="{ backgroundColor: userAvatarColor }">
                            {{ userInitial }}
                        </a-avatar>
                    </div>
                    <template #content>
                        <a-doption value="profile">
                            <icon-user/>
                            ‰∏™‰∫∫‰∏≠ÂøÉ
                        </a-doption>
                        <a-doption value="logout">
                            <icon-export/>
                            ÈÄÄÂá∫ÁôªÂΩï
                        </a-doption>
                    </template>
                </a-dropdown>
            </div>
        </a-layout-header>

        <!-- ‰∏ãÂ±ÇÂ∏ÉÂ±Ä -->
        <a-layout class="main-layout">
            <!-- Â∑¶‰æßËæπÊ†è -->
            <a-layout-sider
                v-show="pageSettings.showSidebar"
                :width="collapsed ? 50 : pageSettings.sidebarWidth"
                class="layout-sider"
                style="transition: width 0.2s"
            >
                 <a-menu
                     :collapsed="collapsed"
                     :default-open-keys="collapsed ? [] : ['ÈÄöÁî®Â∑•ÂÖ∑', 'ÁîüÁâ©‰ø°ÊÅØ']"
                     :selected-keys="selectedKeys"
                     class="menu"
                     theme="light"
                     @menu-item-click="handleMenuClick"
                     @sub-menu-click="(e) => e.stopPropagation()"
                 >
                     <a-sub-menu
                         v-for="(category, categoryKey) in menuCategories"
                         :key="categoryKey"
                     >
                         <template #icon>
                             <icon-tool v-if="categoryKey === 'ÈÄöÁî®Â∑•ÂÖ∑'" />
                             <icon-experiment v-else-if="categoryKey === 'ÁîüÁâ©‰ø°ÊÅØ'" />
                             <icon-apps v-else />
                         </template>
                         <template #title>{{ category.title }}</template>
                         <a-menu-item
                             v-for="item in category.items"
                             :key="item.name"
                         >
                             <template #icon>
                                 <icon-file-pdf v-if="item.meta.title === 'PDFÂ§ÑÁêÜ'" />
                                 <icon-code v-else-if="item.meta.title === 'JsonÊìç‰Ωú'" />
                                 <icon-swap v-else-if="item.meta.title === 'Converter'" />
                                 <icon-link v-else-if="item.meta.title === 'HTTPÂÆ¢Êà∑Á´Ø'" />
                                 <icon-download v-else-if="item.meta.title === 'TCMSPÊï∞ÊçÆ‰∏ãËΩΩ'" />
                                 <icon-tool v-else />
                             </template>
                             {{ item.meta.title }}
                         </a-menu-item>
                     </a-sub-menu>
                                      </a-menu>
                     
                     <!-- Ëá™ÂÆö‰πâÊäòÂè†ÊåâÈíÆ -->
                     <div class="collapse-trigger" @click="toggleCollapse">
                         <icon-menu-fold v-if="!collapsed" />
                         <icon-menu-unfold v-if="collapsed" />
                     </div>
                     
                     <!-- Ë∞ÉËØï‰ø°ÊÅØÔºàÂºÄÂèëÊó∂‰ΩøÁî®Ôºâ -->
                     <div v-if="false" class="debug-info" style="position: absolute; bottom: 60px; left: 8px; font-size: 10px; color: #999;">
                         {{ collapsed ? 'ÊäòÂè†' : 'Â±ïÂºÄ' }}
                     </div>
            </a-layout-sider>

            <!-- Âè≥‰æßÂÜÖÂÆπÂå∫Âüü -->
            <a-layout-content class="layout-main">
                <router-view v-slot="{ Component, route }">
                    <transition mode="out-in" name="fade">
                        <keep-alive :include="cacheList">
                            <component :is="Component" :key="route.fullPath"/>
                        </keep-alive>
                    </transition>
                </router-view>
            </a-layout-content>
        </a-layout>

        <!-- ÊêúÁ¥¢ÂØπËØùÊ°Ü -->
        <SearchDialog
            v-model:visible="searchVisible"
            @navigate="handleNavigate"
        />
        
        <!-- È°µÈù¢ËÆæÁΩÆÊäΩÂ±â -->
        <a-drawer
            v-model:visible="settingsVisible"
            title="È°µÈù¢ÈÖçÁΩÆ"
            placement="right"
            :width="320"
            :footer="false"
            :mask="true"
            :mask-closable="true"
        >
            <div class="settings-content">
                <div class="setting-section">
                    <h4>ÂÜÖÂÆπÂå∫Âüü</h4>
                    
                    <div class="setting-item">
                        <span>ÂØºËà™Ê†è</span>
                        <a-switch v-model="pageSettings.showHeader" />
                    </div>
                    
                    <div class="setting-item">
                        <span>ËèúÂçïÊ†è</span>
                        <a-switch v-model="pageSettings.showSidebar" />
                    </div>
                    
                    <div class="setting-item">
                        <span>ËèúÂçïÂÆΩÂ∫¶ (px)</span>
                        <a-input-number 
                            v-model="pageSettings.sidebarWidth" 
                            :min="200" 
                            :max="550" 
                            :step="10"
                            style="width: 80px;"
                        />
                    </div>
                </div>
                
                <div class="setting-section">
                    <h4>ÂÖ∂‰ªñËÆæÁΩÆ</h4>
                    
                    <div class="setting-item">
                        <span>Ëá™Âä®‰øùÂ≠òËÆæÁΩÆ</span>
                        <a-switch v-model="pageSettings.autoSave" />
                    </div>
                </div>
            </div>
        </a-drawer>
    </a-layout>
</template>

<script setup>
import {ref, computed, watch, onMounted} from 'vue'
import {useRouter, useRoute} from 'vue-router'
import {
    IconBook, IconMenuFold, IconMenuUnfold, IconHome, IconTool,
    IconFilePdf, IconCode, IconSwap, IconLink, IconExperiment,
    IconDownload, IconFullscreen, IconFullscreenExit,
    IconUser, IconSettings, IconExport, IconDown, IconApps,
    IconBug, IconBulb, IconHeart, IconStar, IconFire, IconSearch
} from '@arco-design/web-vue/es/icon'

import {Message} from '@arco-design/web-vue'
import {appState} from '../states'
import {clearAuth} from '../utils/auth'
import SearchDialog from '../components/SearchDialog.vue'
const router = useRouter()
const route = useRoute()

// ÂìçÂ∫îÂºèÊï∞ÊçÆ
const searchVisible = ref(false)
const settingsVisible = ref(false)
const isFullscreen = ref(false)

const selectedKeys = ref([])
const searchText = ref('')
const cacheList = ref(['Home', 'PDFÂ§ÑÁêÜ', 'JsonÊìç‰Ωú'])

// È°µÈù¢ËÆæÁΩÆ
const SETTINGS_KEY = 'magicbook_page_settings'
const pageSettings = ref({
    showHeader: true,
    showSidebar: true,
    sidebarWidth: 200,
    autoSave: true
})

// Âä†ËΩΩÈ°µÈù¢ËÆæÁΩÆ
const loadPageSettings = () => {
    const saved = localStorage.getItem(SETTINGS_KEY)
    if (saved) {
        try {
            const parsed = JSON.parse(saved)
            pageSettings.value = { ...pageSettings.value, ...parsed }
        } catch (e) {
            console.error('Âä†ËΩΩÈ°µÈù¢ËÆæÁΩÆÂ§±Ë¥•:', e)
        }
    }
}

// ‰øùÂ≠òÈ°µÈù¢ËÆæÁΩÆ
const savePageSettings = () => {
    if (pageSettings.value.autoSave) {
        localStorage.setItem(SETTINGS_KEY, JSON.stringify(pageSettings.value))
        console.log('üíæ È°µÈù¢ËÆæÁΩÆÂ∑≤‰øùÂ≠ò')
    }
}


// Áî®Êà∑‰ø°ÊÅØ
const username = computed(() => appState.username)
const userAvatarColor = computed(() => {
    const colors = [
        '#f53f3f', '#ff7d00', '#ff9a2e', '#ffb400',
        '#00b42a', '#00d4aa', '#0fc6c2', '#165dff',
        '#722ed1'
    ]
    const index = username.value?.charCodeAt(0) % colors.length || 0
    return colors[index]
})

const userInitial = computed(() => {
    return username.value?.charAt(0).toUpperCase() || 'U'
})

// Âº∫Âà∂‰øùÊåÅÊäòÂè†Áä∂ÊÄÅ
const STORAGE_KEY = 'magicbook_menu_collapsed'
const collapsed = ref(localStorage.getItem(STORAGE_KEY) === 'true')

// ÂàùÂßãÂåñÊó∂ÊâìÂç∞Áä∂ÊÄÅ
console.log('üöÄ ÂàùÂßãÂåñÊäòÂè†Áä∂ÊÄÅ:', collapsed.value ? 'Â∑≤ÊäòÂè†' : 'Â∑≤Â±ïÂºÄ', 'Êù•Ëá™localStorage:', localStorage.getItem(STORAGE_KEY))

const toggleCollapse = () => {
    collapsed.value = !collapsed.value
    // ‰øùÂ≠òÂà∞localStorageÔºåÁ°Æ‰øùÂà∑Êñ∞ÂíåË∑ØÁî±ÂàáÊç¢ÂêéÁä∂ÊÄÅ‰∏ç‰∏¢Â§±
    localStorage.setItem(STORAGE_KEY, collapsed.value.toString())
    console.log('üîß ÊäòÂè†Áä∂ÊÄÅÂàáÊç¢:', collapsed.value ? 'Â∑≤ÊäòÂè†' : 'Â∑≤Â±ïÂºÄ', 'Â∑≤‰øùÂ≠òÂà∞localStorage:', localStorage.getItem(STORAGE_KEY))
}

// ÁõëÂê¨Ë∑ØÁî±ÂèòÂåñÔºå‰ΩÜ‰øùÊåÅÊäòÂè†Áä∂ÊÄÅ‰∏çÂèò
watch(() => route.path, (newPath) => {
    // Ë∑ØÁî±ÂèòÂåñÊó∂ÔºåÂº∫Âà∂‰øùÊåÅÂΩìÂâçÁöÑÊäòÂè†Áä∂ÊÄÅ
    const savedCollapsed = localStorage.getItem(STORAGE_KEY) === 'true'
    if (collapsed.value !== savedCollapsed) {
        collapsed.value = savedCollapsed
        console.log('üîÑ Ë∑ØÁî±ÂèòÂåñÔºåÂº∫Âà∂ÊÅ¢Â§çÊäòÂè†Áä∂ÊÄÅ:', collapsed.value ? 'Â∑≤ÊäòÂè†' : 'Â∑≤Â±ïÂºÄ')
    }
}, { immediate: true })

// È°µÈù¢Âä†ËΩΩÊó∂Á°Æ‰øùÁä∂ÊÄÅÊ≠£Á°Æ
onMounted(() => {
    // ÂÜçÊ¨°Ê£ÄÊü•localStorageÁä∂ÊÄÅ
    const savedCollapsed = localStorage.getItem(STORAGE_KEY) === 'true'
    if (collapsed.value !== savedCollapsed) {
        collapsed.value = savedCollapsed
        console.log('üì± È°µÈù¢Âä†ËΩΩÔºåÊÅ¢Â§çÊäòÂè†Áä∂ÊÄÅ:', collapsed.value ? 'Â∑≤ÊäòÂè†' : 'Â∑≤Â±ïÂºÄ')
    }
    
    // Â¶ÇÊûúÊ≤°Êúâ‰øùÂ≠òËøáÁä∂ÊÄÅÔºåËÆæÁΩÆÈªòËÆ§ÂÄº
    if (localStorage.getItem(STORAGE_KEY) === null) {
        localStorage.setItem(STORAGE_KEY, 'false')
        console.log('üìù È¶ñÊ¨°‰ΩøÁî®ÔºåËÆæÁΩÆÈªòËÆ§ÊäòÂè†Áä∂ÊÄÅ: Â±ïÂºÄ')
    }
    
    // Âä†ËΩΩÈ°µÈù¢ËÆæÁΩÆ
    loadPageSettings()
})

// ÁõëÂê¨È°µÈù¢ËÆæÁΩÆÂèòÂåñÔºåËá™Âä®‰øùÂ≠ò
watch(pageSettings, () => {
    savePageSettings()
}, { deep: true })

// ‰ªéË∑ØÁî±Âä®ÊÄÅÁîüÊàêËèúÂçï
const menuCategories = computed(() => {
    const categories = {}

    // Ëé∑Âèñ‰∏ªË∑ØÁî±ÁöÑÂ≠êË∑ØÁî±ÔºàÊéíÈô§È¶ñÈ°µÔºâ
    const mainRoute = router.getRoutes().find(route => route.path === '/')
    const childRoutes = mainRoute?.children?.filter(child =>
        child.meta?.category && child.meta?.requiresAuth
    ) || []

    // ÊåâcategoryÂàÜÁªÑ
    childRoutes.forEach(route => {
        const category = route.meta.category
        if (!categories[category]) {
            categories[category] = {
                title: category,
                items: []
            }
        }
        categories[category].items.push(route)
    })

    return categories
})

// ÈöèÊú∫ÂõæÊ†áÊ±†
const iconPool = [
    'IconFilePdf', 'IconCode', 'IconSwap', 'IconLink', 'IconDownload',
    'IconTool', 'IconExperiment', 'IconHome', 'IconUser', 'IconSettings',
    'IconApps', 'IconBug', 'IconBulb', 'IconHeart', 'IconStar', 'IconFire'
]

// ÂõæÊ†áÊò†Â∞Ñ
const iconMap = {
    'icon-file-pdf': 'IconFilePdf',
    'icon-code': 'IconCode',
    'icon-swap': 'IconSwap',
    'icon-link': 'IconLink',
    'icon-download': 'IconDownload',
    'icon-tool': 'IconTool',
    'icon-experiment': 'IconExperiment'
}

const getRandomIcon = (seed) => {
    const index = Math.abs(seed.split('').reduce((a, b) => a + b.charCodeAt(0), 0)) % iconPool.length
    return iconPool[index]
}

const getMenuIcon = (iconName, fallbackSeed = '') => {
    return iconMap[iconName] || getRandomIcon(fallbackSeed)
}

const getCategoryIcon = (categoryKey) => {
    if (categoryKey === 'ÈÄöÁî®Â∑•ÂÖ∑') return 'IconTool'
    if (categoryKey === 'ÁîüÁâ©‰ø°ÊÅØ') return 'IconExperiment'
    return getRandomIcon(categoryKey)
}

// Ë∑ØÁî±Êò†Â∞ÑÔºà‰øùÊåÅÂêëÂêéÂÖºÂÆπÔºâ
const routeMap = {
    'PDFÂ§ÑÁêÜ': '/pdf',
    'JsonÊìç‰Ωú': '/json',
    'Converter': '/convert',
    'HTTPÂÆ¢Êà∑Á´Ø': '/http',
    'TCMSPÊï∞ÊçÆ‰∏ãËΩΩ': '/tcmsp'
}

// Èù¢ÂåÖÂ±ëÂØºËà™
const breadcrumbList = computed(() => {
    const breadcrumbs = [{title: 'È¶ñÈ°µ'}]

    if (route.path !== '/dashboard') {
        const routeTitle = Object.keys(routeMap).find(key => routeMap[key] === route.path)
        if (routeTitle) {
            if (['PDFÂ§ÑÁêÜ', 'JsonÊìç‰Ωú', 'Converter', 'HTTPÂÆ¢Êà∑Á´Ø'].includes(routeTitle)) {
                breadcrumbs.push({title: 'ÈÄöÁî®Â∑•ÂÖ∑'})
            } else if (routeTitle === 'TCMSPÊï∞ÊçÆ‰∏ãËΩΩ') {
                breadcrumbs.push({title: 'ÁîüÁâ©‰ø°ÊÅØ'})
            }
            breadcrumbs.push({title: routeTitle})
        }
    }

    return breadcrumbs
})

// ‰∫ã‰ª∂Â§ÑÁêÜ
const handleLogoClick = () => {
    router.push('/dashboard')
}

const handleMenuClick = (key, event) => {
    console.log('clpd',collapsed.value)
    if (event && event.stopPropagation) {
        event.stopPropagation()
    }

    // ÂÖàÂ∞ùËØï‰ªéÂä®ÊÄÅËèúÂçï‰∏≠ÊâæË∑ØÁî±
    for (const category of Object.values(menuCategories.value)) {
        const route = category.items.find(item => item.name === key)
        if (route) {
            router.push(route.path).then(() => {
                console.log('clpddd',collapsed.value)
            })
            return
        }
    }

    // ÂêëÂêéÂÖºÂÆπÔºå‰ªérouteMapÊü•Êâæ
    const path = routeMap[key]
    if (path) {
        router.push(path).then(() => {
            console.log('clpddd',collapsed.value)
        })
    }

}

const handleNavigate = (path) => {
    router.push(path)
    searchVisible.value = false
}

const showSearchDialog = () => {
    searchVisible.value = true
    searchText.value = ''
}

const showSettings = () => {
    settingsVisible.value = true
}

const toggleFullscreen = () => {
    if (document.fullscreenElement) {
        document.exitFullscreen()
        isFullscreen.value = false
    } else {
        document.documentElement.requestFullscreen()
        isFullscreen.value = true
    }
}

const handleUserMenuSelect = (value) => {
    switch (value) {
        case 'profile':
            Message.info('‰∏™‰∫∫‰∏≠ÂøÉÂäüËÉΩÂºÄÂèë‰∏≠...')
            break
        case 'settings':
            Message.info('Á≥ªÁªüËÆæÁΩÆÂäüËÉΩÂºÄÂèë‰∏≠...')
            break
        case 'logout':
            clearAuth()
            appState.username = ''
            router.push('/login')
            Message.success('Â∑≤ÈÄÄÂá∫ÁôªÂΩï')
            break
    }
}


// ÁõëÂê¨Ë∑ØÁî±ÂèòÂåñÊõ¥Êñ∞ËèúÂçïÈÄâ‰∏≠Áä∂ÊÄÅ
watch(() => route.path, (newPath) => {
    // ÂÖà‰ªéÂä®ÊÄÅËèúÂçï‰∏≠Êü•Êâæ
    for (const category of Object.values(menuCategories.value)) {
        const route = category.items.find(item => item.path === newPath)
        if (route) {
            selectedKeys.value = [route.name]
            return
        }
    }

    // ÂêëÂêéÂÖºÂÆπÔºå‰ªérouteMapÊü•Êâæ
    const menuKey = Object.keys(routeMap).find(key => routeMap[key] === newPath)
    if (menuKey) {
        selectedKeys.value = [menuKey]
    } else if (newPath === '/dashboard') {
        // È¶ñÈ°µ‰∏çÂú®ËèúÂçï‰∏≠ÔºåÊ∏ÖÁ©∫ÈÄâ‰∏≠Áä∂ÊÄÅ
        selectedKeys.value = []
    }
}, {immediate: true})

// ÁõëÂê¨ÂÖ®Â±èÁä∂ÊÄÅ
onMounted(() => {
    document.addEventListener('fullscreenchange', () => {
        isFullscreen.value = !!document.fullscreenElement
    })
})
</script>

<style scoped>
/* Êï¥‰ΩìÂ∏ÉÂ±Ä */
.layout {
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: #f5f5f5;
}

/* È°∂ÈÉ®ÂØºËà™Ê†è */
.layout-header {
    height: 48px;
    background: #fff;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 16px;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 12px;
    padding-right: 8px;
}

.logo {
    display: flex;
    align-items: center;
    font-size: 20px;
    font-weight: bold;
    color: #000;
    padding: 8px;
    cursor: pointer;
}

.logo:hover {
    /* ÁßªÈô§ÊÇ¨ÂÅúÊó∂ÁöÑËÉåÊôØËâ≤ÂèòÂåñ */
}

.logo:active {
    /* ÁßªÈô§ÁÇπÂáªÊó∂ÁöÑËÉåÊôØËâ≤ÂèòÂåñ */
}

.logo-text {
    margin-left: 12px;
    font-size: 18px;
}

.header-search {
    width: 240px;
}

.header-btn {
    font-size: 16px;
    padding: 8px;
}

.user-dropdown {
    display: flex;
    align-items: center;
    cursor: pointer;
}

/* ‰∏ãÂ±Ç‰∏ªÂ∏ÉÂ±Ä */
.main-layout {
    flex: 1;
    overflow: hidden;
}

/* ‰æßËæπÊ†è */
.layout-sider {
    background: #fff;
    border-right: 1px solid #f0f0f0;
}

.menu {
    background: transparent;
    border: none;
    padding: 8px 0;
    height: calc(100vh - 88px);
    overflow-y: auto;
}

/* ËèúÂçïÊ†∑Âºè - ‰ΩøÁî®Arco DesignÂéüÁîüÊ†∑Âºè */
:deep(.arco-menu-item) {
    margin: 2px 8px;
}

:deep(.arco-menu-sub-menu-title) {
    margin: 2px 8px;
}

/* ÊäòÂè†Áä∂ÊÄÅ‰∏ãÁöÑÂü∫Êú¨Ê†∑Âºè */
:deep(.arco-menu-collapsed .arco-menu-item) {
    justify-content: center;
}

:deep(.arco-menu-collapsed .arco-menu-item-icon) {
    margin-right: 0;
    font-size: 18px;
}

:deep(.arco-menu-collapsed .arco-menu-sub-menu-title) {
    justify-content: center;
}

:deep(.arco-menu-collapsed .arco-menu-sub-menu .arco-menu-item) {
    display: none;
}

:deep(.arco-menu-collapsed .arco-menu-sub-menu-title .arco-menu-title) {
    display: none;
}

/* ÊäòÂè†ÊåâÈíÆ */
.collapse-trigger {
    position: absolute;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #666;
}

.collapse-trigger:hover {
    color: #165dff;
}


/* ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü */
.layout-main {
    padding: 16px 24px 16px 16px;
    overflow-y: auto;
    height: calc(100vh - 48px);
}

/* È°µÈù¢ÂàáÊç¢Âä®Áîª */
.fade-enter-active, .fade-leave-active {
    transition: opacity 0.2s ease;
}

.fade-enter-from, .fade-leave-to {
    opacity: 0;
}

/* ËÆæÁΩÆÈ°µÈù¢Ê†∑Âºè */
.settings-content {
    padding: 16px 0;
}

.setting-section {
    margin-bottom: 20px;
}

.setting-section h4 {
    margin: 0 0 12px 0;
    font-size: 15px;
    font-weight: 600;
    border-bottom: 1px solid #f2f3f5;
    padding-bottom: 6px;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #f7f8fa;
}

.setting-item:last-child {
    border-bottom: none;
}

.setting-item span {
    flex: 1;
    margin-right: 16px;
}

/* ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
    .header-search {
        width: 200px;
    }

    .layout-main {
        padding: 16px;
    }
}
</style>
